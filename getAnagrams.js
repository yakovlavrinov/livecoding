/**
Напишите функцию, которая найдет все наборы анаграмм в строке. 
Анаграммы - слова, составленные из одного и того же набора букв (рост-сорт-трос)
*/

const str = 'адрес карп кума куст мир мука парк рим среда стук рост сорт трос'

function getAnagrams(str) {
	// Разбиваем входную строку на массив слов
	const words = str.split(' ') // ['адрес', 'карп', 'кума', ...]

	// Создаём объект для хранения групп анаграмм
	const wordMap = words.reduce((result, word) => {
		// Сортируем буквы в слове, чтобы получить ключ, общий для всех его анаграмм
		// Например, 'трос' -> ['т','р','о','с'] -> ['о','р','с','т'] -> 'орст'
		const key = word.split('').sort().join('')

		// Для отладки можно посмотреть, какие ключи формируются
		// console.log(key);

		// Если группы с таким ключом ещё нет — создаём её
		if (!result[key]) {
			result[key] = []
		}

		// Добавляем текущее слово в соответствующую группу
		result[key].push(word)

		return result
	}, {}) // Начальное значение аккумулятора — пустой объект

	// Возвращаем только значения объекта, т.е. массивы анаграмм
	// [['адрес', 'среда'], ['карп', 'парк'], ...]
	return Object.values(wordMap)
}

console.log(getAnagrams(str))
